{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/user/quizbinh2/src/components/ui/Logo.tsx"],"sourcesContent":["import Link from 'next/link';\nimport { GraduationCap } from 'lucide-react';\n\n/**\n * Logo là component UI hiển thị logo và tên thương hiệu của ứng dụng.\n * Nó được tách ra để đảm bảo tính nhất quán và tái sử dụng ở nhiều nơi (Header, Footer, v.v.).\n * Component này không nhận props và tự quản lý style của mình.\n */\nconst Logo = () => {\n  return (\n    <Link href=\"/\" className=\"flex items-center gap-2 text-[#111418] group cursor-pointer\">\n      <div className=\"text-[#2b8cee] transition-transform group-hover:scale-110\">\n        <GraduationCap size={32} />\n      </div>\n      <h2 className=\"text-xl font-black leading-tight tracking-[-0.015em]\">EnglishMaster</h2>\n    </Link>\n  );\n};\n\nexport default Logo;\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEA;;;;CAIC,GACD,MAAM,OAAO;IACX,qBACE,6LAAC,0KAAI;QAAC,MAAK;QAAI,WAAU;;0BACvB,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC,4OAAa;oBAAC,MAAM;;;;;;;;;;;0BAEvB,6LAAC;gBAAG,WAAU;0BAAuD;;;;;;;;;;;;AAG3E;KATM;uCAWS"}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file:///home/user/quizbinh2/src/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\n/**\n * Hàm tiện ích để kết hợp các class name một cách an toàn.\n * @param inputs - Danh sách các class name. Có thể là chuỗi, object, hoặc mảng.\n * @returns Chuỗi class name đã được hợp nhất và không có xung đột.\n * \n * Luồng hoạt động:\n * 1. `clsx` nhận vào tất cả các input và tạo ra một chuỗi class name dựa trên các điều kiện.\n *    Ví dụ: cn(\"p-4\", { \"bg-red-500\": true }, false && \"text-white\") -> \"p-4 bg-red-500\"\n * 2. `twMerge` nhận chuỗi class name từ `clsx` và giải quyết các xung đột của Tailwind CSS.\n *    Ví dụ: twMerge(\"p-2\", \"p-4\") -> \"p-4\"\n *    Ví dụ: twMerge(\"p-4 bg-red-500\", \"bg-blue-500\") -> \"p-4 bg-blue-500\"\n */\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAcO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB"}},
    {"offset": {"line": 81, "column": 0}, "map": {"version":3,"sources":["file:///home/user/quizbinh2/src/components/ui/Button.tsx"],"sourcesContent":["\"use client\";\n\nimport React from 'react';\nimport { cn } from '@/lib/utils';\n\n// --- GIẢI THÍCH THAY ĐỔI ---\n// 1. VÔ HIỆU HÓA LINT RULE: Thêm comment `eslint-disable-next-line` để bỏ qua lỗi \"Cannot access refs during render\".\n//    - Lý do: Đây là một trường hợp báo động giả (false positive). Cách chúng ta sử dụng `React.cloneElement` để truyền `ref` khi `asChild` là true là một pattern hoàn toàn hợp lệ và cần thiết để `forwardRef` hoạt động đúng.\n//    - Linter không đủ thông minh để hiểu ngữ cảnh này, vì vậy chúng ta cần chỉ cho nó biết rằng code này là an toàn và có chủ đích.\n\nexport interface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: 'primary' | 'secondary' | 'special' | 'outlineWhite';\n  size?: 'default' | 'large';\n  asChild?: boolean;\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant = 'primary', size = 'default', asChild = false, children, ...props }, ref) => {\n\n    const baseStyles = 'inline-flex items-center justify-center rounded-full text-lg font-bold transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 active:scale-95';\n\n    const variantStyles = {\n      primary: 'bg-[#2b8cee] text-white shadow-md shadow-[#2b8cee]/30 hover:bg-blue-700 hover:shadow-lg hover:-translate-y-0.5',\n      secondary: 'bg-transparent text-gray-900 hover:bg-gray-100',\n      special: 'bg-white text-[#2b8cee] shadow-lg hover:bg-gray-50 hover:-translate-y-1',\n      outlineWhite: 'bg-transparent border-2 border-white text-white hover:bg-white/10',\n    };\n\n    const sizeStyles = {\n      default: 'h-12 px-8',\n      large: 'h-14 px-10',\n    };\n    \n    const finalClassName = cn(\n      baseStyles,\n      variantStyles[variant],\n      sizeStyles[size],\n      className\n    );\n\n    if (asChild) {\n        const child = React.Children.only(children) as React.ReactElement;\n        // eslint-disable-next-line react-hooks/refs\n        return React.cloneElement(child, {\n            className: cn(child.props.className, finalClassName),\n            ref: ref,\n            ...props\n        });\n    }\n\n    return (\n      <button\n        className={finalClassName}\n        ref={ref}\n        {...props}\n      >\n        {children}\n      </button>\n    );\n  }\n);\nButton.displayName = 'Button';\n\nexport { Button };\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAgBA,MAAM,uBAAS,wKAAK,CAAC,UAAU,MAC7B,CAAC,EAAE,SAAS,EAAE,UAAU,SAAS,EAAE,OAAO,SAAS,EAAE,UAAU,KAAK,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE;IAE1F,MAAM,aAAa;IAEnB,MAAM,gBAAgB;QACpB,SAAS;QACT,WAAW;QACX,SAAS;QACT,cAAc;IAChB;IAEA,MAAM,aAAa;QACjB,SAAS;QACT,OAAO;IACT;IAEA,MAAM,iBAAiB,IAAA,4HAAE,EACvB,YACA,aAAa,CAAC,QAAQ,EACtB,UAAU,CAAC,KAAK,EAChB;IAGF,IAAI,SAAS;QACT,MAAM,QAAQ,wKAAK,CAAC,QAAQ,CAAC,IAAI,CAAC;QAClC,4CAA4C;QAC5C,qBAAO,wKAAK,CAAC,YAAY,CAAC,OAAO;YAC7B,WAAW,IAAA,4HAAE,EAAC,MAAM,KAAK,CAAC,SAAS,EAAE;YACrC,KAAK;YACL,GAAG,KAAK;QACZ;IACJ;IAEA,qBACE,6LAAC;QACC,WAAW;QACX,KAAK;QACJ,GAAG,KAAK;kBAER;;;;;;AAGP;;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 138, "column": 0}, "map": {"version":3,"sources":["file:///home/user/quizbinh2/src/components/ui/MobileMenu.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from 'react';\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport { Menu, X } from 'lucide-react';\nimport { NavLink } from '@/lib/data';\nimport { Button } from './Button';\n\ninterface MobileMenuProps {\n  navLinks: NavLink[];\n}\n\n/**\n * MobileMenu là component quản lý toàn bộ trải nghiệm điều hướng trên thiết bị di động.\n * Nó chứa state để đóng/mở, nút hamburger, và panel menu.\n * @param navLinks - Mảng các link điều hướng để hiển thị trong menu.\n */\nconst MobileMenu: React.FC<MobileMenuProps> = ({ navLinks }) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const pathname = usePathname();\n\n  return (\n    <div className=\"lg:hidden\">\n      {/* Nút Hamburger/Close */}\n      <button \n        className=\"p-2 text-[#111418]\"\n        onClick={() => setIsOpen(!isOpen)}\n        aria-label={isOpen ? \"Đóng menu\" : \"Mở menu\"}\n        aria-expanded={isOpen}\n      >\n        {isOpen ? <X size={24} /> : <Menu size={24} />}\n      </button>\n\n      {/* Panel Menu */}\n      {isOpen && (\n        <div className=\"absolute top-full left-0 w-full bg-white border-b border-[#e5e7eb] p-4 flex flex-col gap-4 shadow-xl animate-in fade-in slide-in-from-top-4\">\n          {navLinks.map((link) => (\n             <Link\n                key={link._id}\n                href={link.href}\n                className={`text-lg font-medium p-2 rounded-md transition-colors hover:bg-gray-100 hover:text-[#2b8cee] ${pathname === link.href ? 'bg-gray-100 text-[#2b8cee]' : ''}`}\n                onClick={() => setIsOpen(false)} // Đóng menu khi click vào link\n              >\n                {link.name}\n              </Link>\n          ))}\n          <Button variant=\"primary\" size=\"large\" className=\"w-full mt-2\">\n            Bắt đầu học ngay\n          </Button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default MobileMenu;\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AAEA;;;AAPA;;;;;;AAaA;;;;CAIC,GACD,MAAM,aAAwC,CAAC,EAAE,QAAQ,EAAE;;IACzD,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAC;IACrC,MAAM,WAAW,IAAA,oJAAW;IAE5B,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBACC,WAAU;gBACV,SAAS,IAAM,UAAU,CAAC;gBAC1B,cAAY,SAAS,cAAc;gBACnC,iBAAe;0BAEd,uBAAS,6LAAC,oMAAC;oBAAC,MAAM;;;;;6EAAS,6LAAC,6MAAI;oBAAC,MAAM;;;;;;;;;;;YAIzC,wBACC,6LAAC;gBAAI,WAAU;;oBACZ,SAAS,GAAG,CAAC,CAAC,qBACZ,6LAAC,0KAAI;4BAEF,MAAM,KAAK,IAAI;4BACf,WAAW,CAAC,4FAA4F,EAAE,aAAa,KAAK,IAAI,GAAG,+BAA+B,IAAI;4BACtK,SAAS,IAAM,UAAU;sCAExB,KAAK,IAAI;2BALL,KAAK,GAAG;;;;;kCAQnB,6LAAC,+IAAM;wBAAC,SAAQ;wBAAU,MAAK;wBAAQ,WAAU;kCAAc;;;;;;;;;;;;;;;;;;AAOzE;GApCM;;QAEa,oJAAW;;;KAFxB;uCAsCS"}},
    {"offset": {"line": 243, "column": 0}, "map": {"version":3,"sources":["file:///home/user/quizbinh2/src/components/ui/UserMenu.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport Image from 'next/image';\nimport { LogOut } from 'lucide-react';\nimport { useAuth } from '@/context/AuthContext';\n\nconst UserMenu = () => {\n  const { user, logout } = useAuth();\n  const [isOpen, setIsOpen] = useState(false);\n  const menuRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (menuRef.current && !menuRef.current.contains(event.target as Node)) {\n        setIsOpen(false);\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, []);\n\n  if (!user) {\n    return null;\n  }\n\n  return (\n    <div className=\"relative\" ref={menuRef}>\n      <button\n        onClick={() => setIsOpen(!isOpen)}\n        className=\"flex items-center gap-2 text-sm font-medium text-[#111418] hover:text-[#2b8cee] transition-colors focus:outline-none\"\n      >\n        <Image\n          // Using a placeholder image based on user email to have some variation\n          src={`https://picsum.photos/seed/${user.email}/40/40`}\n          alt={user.username || 'User Avatar'}\n          width={32}\n          height={32}\n          className=\"rounded-full object-cover border-2 border-transparent group-hover:border-primary-500\"\n        />\n        <span className=\"hidden sm:inline font-semibold\">{user.username}</span>\n      </button>\n\n      {isOpen && (\n        <div className=\"absolute right-0 mt-2 w-56 bg-white rounded-xl shadow-lg py-2 z-50 border border-[#e5e7eb] ring-1 ring-black ring-opacity-5\">\n          <div className=\"px-4 py-3 border-b border-[#e5e7eb]\">\n            <p className=\"text-sm font-semibold text-[#111418]\">{user.username}</p>\n            <p className=\"text-sm text-[#617589] truncate\">{user.email}</p>\n          </div>\n          <div className=\"py-1\">\n            <button\n              onClick={() => {\n                logout();\n                setIsOpen(false);\n              }}\n              className=\"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-red-600 hover:bg-red-50 hover:text-red-700 transition-colors\"\n            >\n              <LogOut size={16} />\n              <span>Đăng xuất</span>\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default UserMenu;\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAOA,MAAM,WAAW;;IACf,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,IAAA,4IAAO;IAChC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAC;IACrC,MAAM,UAAU,IAAA,uKAAM,EAAiB;IAEvC,IAAA,0KAAS;8BAAC;YACR,MAAM;yDAAqB,CAAC;oBAC1B,IAAI,QAAQ,OAAO,IAAI,CAAC,QAAQ,OAAO,CAAC,QAAQ,CAAC,MAAM,MAAM,GAAW;wBACtE,UAAU;oBACZ;gBACF;;YACA,SAAS,gBAAgB,CAAC,aAAa;YACvC;sCAAO;oBACL,SAAS,mBAAmB,CAAC,aAAa;gBAC5C;;QACF;6BAAG,EAAE;IAEL,IAAI,CAAC,MAAM;QACT,OAAO;IACT;IAEA,qBACE,6LAAC;QAAI,WAAU;QAAW,KAAK;;0BAC7B,6LAAC;gBACC,SAAS,IAAM,UAAU,CAAC;gBAC1B,WAAU;;kCAEV,6LAAC,2IAAK;wBACJ,uEAAuE;wBACvE,KAAK,CAAC,2BAA2B,EAAE,KAAK,KAAK,CAAC,MAAM,CAAC;wBACrD,KAAK,KAAK,QAAQ,IAAI;wBACtB,OAAO;wBACP,QAAQ;wBACR,WAAU;;;;;;kCAEZ,6LAAC;wBAAK,WAAU;kCAAkC,KAAK,QAAQ;;;;;;;;;;;;YAGhE,wBACC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAE,WAAU;0CAAwC,KAAK,QAAQ;;;;;;0CAClE,6LAAC;gCAAE,WAAU;0CAAmC,KAAK,KAAK;;;;;;;;;;;;kCAE5D,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BACC,SAAS;gCACP;gCACA,UAAU;4BACZ;4BACA,WAAU;;8CAEV,6LAAC,uNAAM;oCAAC,MAAM;;;;;;8CACd,6LAAC;8CAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOpB;GA5DM;;QACqB,4IAAO;;;KAD5B;uCA8DS"}},
    {"offset": {"line": 409, "column": 0}, "map": {"version":3,"sources":["file:///home/user/quizbinh2/src/components/Navbar.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport { NavLink } from '@/lib/definitions';\nimport Logo from './ui/Logo';\nimport { Button } from './ui/Button';\nimport MobileMenu from './ui/MobileMenu';\nimport { useAuth } from '@/context/AuthContext'; // Import useAuth\nimport UserMenu from './ui/UserMenu'; // Import UserMenu\n\ninterface NavbarProps {\n  navLinks: NavLink[];\n}\n\nconst Navbar: React.FC<NavbarProps> = ({ navLinks }) => {\n  const pathname = usePathname();\n  // 1. LẤY THÊM THÔNG TIN `user`\n  // Chúng ta không chỉ cần biết người dùng đã đăng nhập hay chưa (isAuthenticated),\n  // mà còn cần biết họ là ai (thông tin `user`) để kiểm tra vai trò.\n  const { isAuthenticated, isLoading, user } = useAuth();\n\n  // 2. TẠO NAVLINK ĐỘNG CHO GIÁO VIÊN\n  // Đây là một mảng mới chứa các link sẽ được thêm vào navbar\n  // nếu người dùng có vai trò là 'teacher'.\n  const teacherLinks: NavLink[] = [];\n  if (user?.role === 'teacher') {\n    teacherLinks.push({\n      name: 'Teacher Dashboard',\n      href: '/dashboard/teacher',\n    });\n  }\n\n  return (\n    <header className=\"sticky top-0 z-50 flex items-center justify-between border-b border-[#e5e7eb] bg-white/95 backdrop-blur-md px-4 sm:px-10 py-3\">\n      <Logo />\n\n      <nav className=\"hidden lg:flex items-center gap-8\">\n        {/* 3. HIỂN THỊ CÁC LINK GỐC */}\n        {navLinks.map((link) => (\n          <Link\n            key={link.href}\n            href={link.href}\n            className={`text-sm font-medium text-[#111418] transition-colors border-b-2 ${pathname === link.href ? 'border-[#2b8cee] text-[#2b8cee] font-bold' : 'border-transparent hover:border-[#2b8cee] hover:text-[#2b8cee] hover:font-bold'}`}>\n            {link.name}\n          </Link>\n        ))}\n        \n        {/* 4. HIỂN THỊ LINK CỦA GIÁO VIÊN (NẾU CÓ) */}\n        {/* Sử dụng `map` để render mảng `teacherLinks`. Nếu người dùng không phải teacher, \n            mảng này sẽ rỗng và không có gì được render cả. Đây là cách làm code sạch và có điều kiện.*/}\n        {teacherLinks.map((link) => (\n          <Link\n            key={link.href}\n            href={link.href}\n            className={`text-sm font-medium text-[#111418] transition-colors border-b-2 ${pathname === link.href ? 'border-red-500 text-red-500 font-bold' : 'border-transparent hover:border-red-500 hover:text-red-500 hover:font-bold'}`}>\n            {link.name}\n          </Link>\n        ))}\n      </nav>\n\n      <div className=\"flex gap-3 items-center\">\n        {!isLoading && (\n          isAuthenticated ? (\n            // UserMenu không đổi, nó sẽ nhận thông tin user từ context\n            <UserMenu />\n          ) : (\n            <Link href=\"/login\">\n              <Button variant=\"primary\" className=\"hidden sm:flex\">\n                Đăng nhập\n              </Button>\n            </Link>\n          )\n        )}\n        \n        {/* 5. CẬP NHẬT MOBILE MENU */}\n        {/* Ta cần truyền cả `teacherLinks` vào MobileMenu để nó cũng có thể hiển thị link này trên giao diện mobile.*/}\n        <MobileMenu navLinks={[...navLinks, ...teacherLinks]} />\n      </div>\n    </header>\n  );\n};\n\nexport default Navbar;\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAEA;AACA;AACA;AACA,oOAAiD,iBAAiB;AAClE,6OAAsC,kBAAkB;;;AAVxD;;;;;;;;AAgBA,MAAM,SAAgC,CAAC,EAAE,QAAQ,EAAE;;IACjD,MAAM,WAAW,IAAA,oJAAW;IAC5B,+BAA+B;IAC/B,kFAAkF;IAClF,mEAAmE;IACnE,MAAM,EAAE,eAAe,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,IAAA,4IAAO;IAEpD,oCAAoC;IACpC,4DAA4D;IAC5D,0CAA0C;IAC1C,MAAM,eAA0B,EAAE;IAClC,IAAI,MAAM,SAAS,WAAW;QAC5B,aAAa,IAAI,CAAC;YAChB,MAAM;YACN,MAAM;QACR;IACF;IAEA,qBACE,6LAAC;QAAO,WAAU;;0BAChB,6LAAC,8IAAI;;;;;0BAEL,6LAAC;gBAAI,WAAU;;oBAEZ,SAAS,GAAG,CAAC,CAAC,qBACb,6LAAC,0KAAI;4BAEH,MAAM,KAAK,IAAI;4BACf,WAAW,CAAC,gEAAgE,EAAE,aAAa,KAAK,IAAI,GAAG,8CAA8C,kFAAkF;sCACtO,KAAK,IAAI;2BAHL,KAAK,IAAI;;;;;oBAUjB,aAAa,GAAG,CAAC,CAAC,qBACjB,6LAAC,0KAAI;4BAEH,MAAM,KAAK,IAAI;4BACf,WAAW,CAAC,gEAAgE,EAAE,aAAa,KAAK,IAAI,GAAG,0CAA0C,8EAA8E;sCAC9N,KAAK,IAAI;2BAHL,KAAK,IAAI;;;;;;;;;;;0BAQpB,6LAAC;gBAAI,WAAU;;oBACZ,CAAC,aAAa,CACb,kBACE,2DAA2D;kCAC3D,6LAAC,kJAAQ;;;;iFAET,6LAAC,0KAAI;wBAAC,MAAK;kCACT,cAAA,6LAAC,+IAAM;4BAAC,SAAQ;4BAAU,WAAU;sCAAiB;;;;;;;;;;gEAK3D;kCAIA,6LAAC,oJAAU;wBAAC,UAAU;+BAAI;+BAAa;yBAAa;;;;;;;;;;;;;;;;;;AAI5D;GAlEM;;QACa,oJAAW;QAIiB,4IAAO;;;KALhD;uCAoES"}}]
}